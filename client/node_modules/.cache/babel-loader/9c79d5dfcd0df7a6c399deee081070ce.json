{"ast":null,"code":"import _classCallCheck from \"/Users/Alhilly/Desktop/dev-social-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Alhilly/Desktop/dev-social-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Alhilly/Desktop/dev-social-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Alhilly/Desktop/dev-social-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Alhilly/Desktop/dev-social-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Alhilly/Desktop/dev-social-app/client/src/components/pages/Snippets.js\";\nimport React from 'react';\nimport { Pre, LineNo } from './styles';\nimport Highlight, { defaultProps } from 'prism-react-renderer';\nimport theme from 'prism-react-renderer/themes/nightOwl';\nimport './style.css';\nimport Moment from 'react-moment';\nimport uniqid from 'uniqid';\nimport API from '../../utils/API';\n\nvar Snippets =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Snippets, _React$Component);\n\n  function Snippets(props) {\n    var _this;\n\n    _classCallCheck(this, Snippets);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Snippets).call(this, props));\n\n    _this.handleInputChange = function (event) {\n      _this.setState({\n        comment: event.target.value,\n        name: event.target.name\n      });\n    };\n\n    _this.handleSumbit = function (event) {\n      event.preventDefault();\n      var comment_to_save = {\n        body: _this.state.comment,\n        author_id: _this.props.thisAuthor.okta_id,\n        snippet_id: _this.state.name,\n        author_name: _this.props.thisAuthor.name,\n        auth_pic: _this.props.thisAuthor.pic\n      };\n      API.saveComment(comment_to_save).then(function (result) {\n        if (result.data != null) {\n          API.getSnippets().then(function (res) {\n            _this.setState({\n              response: res.data\n            });\n          });\n        }\n      });\n    };\n\n    _this.getElements = function () {\n      _this.props.snippets.forEach(function (snippet) {\n        snippet.comments.forEach(function (comm) {\n          _this.comment_array.push(React.createElement(\"li\", {\n            key: uniqid(),\n            className: \"media pull-left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"/\",\n            className: \"pull-left\",\n            style: {\n              \"marginRight\": \"15px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: comm.auth_pic,\n            alt: \"\",\n            className: \"img-circle\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"media-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"strong\", {\n            className: \"text-success pull-left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, comm.author_name), React.createElement(\"span\", {\n            className: \"text-muted pull-right\",\n            style: {\n              \"float\": \"right\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, React.createElement(\"small\", {\n            className: \"text-muted\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            format: \"D, MMM YYYY, hh:mm a\",\n            withTitle: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, comm.date))), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, comm.body))));\n        });\n\n        _this.snippet_array.push(React.createElement(\"div\", {\n          key: uniqid(),\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-8\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"article\", {\n          className: \"media content-section\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"media-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"article-metadata\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: snippet.author.pic,\n          alt: \"alaa\",\n          className: \"rounded-circle post_prof_img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          className: \"mr-2\",\n          href: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, snippet.author.name), React.createElement(\"small\", {\n          className: \"text-muted ml-2\",\n          style: {\n            \"float\": \"right\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(Moment, {\n          format: \"D, MMM YYYY, hh:mm a\",\n          withTitle: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, snippet.date))), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"article-title\",\n          href: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, snippet.title)), React.createElement(\"p\", {\n          className: \"desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, snippet.desc), React.createElement(Highlight, Object.assign({}, defaultProps, {\n          theme: theme,\n          code: snippet.content,\n          language: \"jsx\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }), function (_ref) {\n          var className = _ref.className,\n              style = _ref.style,\n              tokens = _ref.tokens,\n              getLineProps = _ref.getLineProps,\n              getTokenProps = _ref.getTokenProps;\n          return React.createElement(Pre, {\n            className: className,\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, tokens.map(function (line, i) {\n            return React.createElement(\"div\", Object.assign({}, getLineProps({\n              line: line,\n              key: i\n            }), {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93\n              },\n              __self: this\n            }), React.createElement(LineNo, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 94\n              },\n              __self: this\n            }, i + 1), line.map(function (token, key) {\n              return React.createElement(\"span\", Object.assign({}, getTokenProps({\n                token: token,\n                key: key\n              }), {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 95\n                },\n                __self: this\n              }));\n            }));\n          }));\n        }), React.createElement(\"small\", {\n          className: \"text-muted md-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, \"written with : \", snippet.lang), React.createElement(\"small\", {\n          className: \"text-muted md-3\",\n          style: {\n            \"float\": \"right\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \"This snippet helped \", snippet.likes.length, \" developers\"), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          style: {\n            \"marginRight\": \"5px\"\n          },\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: function onClick() {\n            return _this.props.likeThisSnippet(snippet._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Like\"), React.createElement(\"button\", {\n          style: {\n            \"marginLeft\": \"5px\"\n          },\n          type: \"button\",\n          className: \"btn btn-secondary sh-comm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Comment\")), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"row bootstrap snippets comm\",\n          style: {\n            \"display\": \"none\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-12 col-md-offset-2 col-sm-12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"comment-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"panel panel-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"panel-heading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"Comments\"), React.createElement(\"div\", {\n          className: \"panel-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(\"textarea\", {\n          name: snippet._id,\n          className: \"form-control\",\n          placeholder: \"write a comment...\",\n          rows: \"3\",\n          onChange: _this.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-info pull-right\",\n          onClick: function onClick() {\n            return _this.handleSumbit();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"Post\"), React.createElement(\"div\", {\n          className: \"clearfix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }), React.createElement(\"ul\", {\n          className: \"media-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, _this.comment_array)))))))))));\n      });\n    };\n\n    _this.state = {\n      comment: \"\",\n      name: \"\"\n    };\n    _this.snippet_array = [];\n    _this.comment_array = [];\n    return _this;\n  }\n\n  _createClass(Snippets, [{\n    key: \"render\",\n    value: function render() {\n      this.getElements();\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, this.snippet_array);\n    }\n  }]);\n\n  return Snippets;\n}(React.Component);\n\nexport { Snippets as default };","map":{"version":3,"sources":["/Users/Alhilly/Desktop/dev-social-app/client/src/components/pages/Snippets.js"],"names":["React","Pre","LineNo","Highlight","defaultProps","theme","Moment","uniqid","API","Snippets","props","handleInputChange","event","setState","comment","target","value","name","handleSumbit","preventDefault","comment_to_save","body","state","author_id","thisAuthor","okta_id","snippet_id","author_name","auth_pic","pic","saveComment","then","result","data","getSnippets","res","response","getElements","snippets","forEach","snippet","comments","comm","comment_array","push","date","snippet_array","author","title","desc","content","className","style","tokens","getLineProps","getTokenProps","map","line","i","key","token","lang","likes","length","likeThisSnippet","_id","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Pre, LineNo } from './styles'\nimport Highlight, { defaultProps } from 'prism-react-renderer'\nimport theme from 'prism-react-renderer/themes/nightOwl'\nimport './style.css'\nimport Moment from 'react-moment';\nimport uniqid from 'uniqid'\nimport API from '../../utils/API'\nexport default class Snippets extends React.Component {\n    constructor(props){\n        super(props)\n        this.state={\n            comment:\"\",\n            name:\"\"\n            \n        }\n        this.snippet_array = []\n        this.comment_array = []\n    }\n    handleInputChange = (event)=>{\n        this.setState({\n            comment:event.target.value,\n            name:event.target.name\n        })\n    }\n    handleSumbit =(event) => {\n        event.preventDefault()\n        let comment_to_save = {\n            body:this.state.comment,\n            author_id:this.props.thisAuthor.okta_id,\n            snippet_id:this.state.name,\n            author_name:this.props.thisAuthor.name,\n            auth_pic:this.props.thisAuthor.pic\n          }\n          API.saveComment(comment_to_save)\n            .then(result=>{\n              if(result.data != null){\n                API.getSnippets()\n                        .then(res=>{\n                          this.setState({response:res.data})\n                        })\n              }\n            })\n    }\n    getElements=()=>{\n        this.props.snippets.forEach(snippet=>{\n            snippet.comments.forEach(comm =>{\n                this.comment_array.push(\n                    \n                    <li key={uniqid()} className=\"media pull-left\">\n                    <a href=\"/\" className=\"pull-left\" style={{\"marginRight\":\"15px\"}}>\n                        <img src={comm.auth_pic} alt=\"\" className=\"img-circle\"/>\n                    </a>\n                    <div className=\"media-body\">\n                    <strong className=\"text-success pull-left\">{comm.author_name}</strong>\n        \n                        <span className=\"text-muted pull-right\" style={{\"float\":\"right\"}}>\n                            <small className=\"text-muted\">\n                            <Moment format=\"D, MMM YYYY, hh:mm a\" withTitle>\n                                 {comm.date}\n                            </Moment>\n                            </small>\n                        </span>\n                        <p>\n                            {comm.body}\n                        </p>\n                    </div>\n                </li>\n                )\n            })\n            this.snippet_array.push(\n            <div key={uniqid()} className=\"row\">\n            <div className=\"col-md-8\">\n                <article className=\"media content-section\">\n                    <div className=\"media-body\">\n                        <div className=\"article-metadata\">\n                            <img src={snippet.author.pic} alt={\"alaa\"} className=\"rounded-circle post_prof_img\" />\n                            <a className=\"mr-2\" href=\"/\">{snippet.author.name}</a>\n                            <small className=\"text-muted ml-2\" style={{\"float\":\"right\"}}>\n                            <Moment format=\"D, MMM YYYY, hh:mm a\" withTitle>\n                                 {snippet.date}\n                            </Moment>\n                            </small>\n                        </div>\n                        <h2><a className=\"article-title\" href=\"/\">{snippet.title}</a></h2>\n                        <p className=\"desc\">\n                            {snippet.desc}\n                        </p>\n                        <Highlight {...defaultProps} theme={theme} code={snippet.content} language=\"jsx\">\n                            {({ className, style, tokens, getLineProps, getTokenProps }) => (\n                                <Pre className={className} style={style}>\n                                    {tokens.map((line, i) => (\n                                        <div {...getLineProps({ line, key: i })}>\n                                            <LineNo>{i + 1}</LineNo>\n                                            {line.map((token, key) => <span {...getTokenProps({ token, key })} />)}\n                                        </div>\n                                    ))}\n                                </Pre>\n                            )}\n                        </Highlight>\n                        <small className=\"text-muted md-3\">written with : {snippet.lang}</small>\n                        <small className=\"text-muted md-3\" style={{\"float\":\"right\"}}>This snippet helped {snippet.likes.length} developers</small>\n                        <hr></hr>\n                        <div className=\"text-center\">\n                            <button style={{\"marginRight\":\"5px\"}}  type=\"button\" className=\"btn btn-secondary\" onClick={()=>this.props.likeThisSnippet(snippet._id)}>Like</button>\n                            <button style={{\"marginLeft\":\"5px\"}}  type=\"button\" className=\"btn btn-secondary sh-comm\">Comment</button>\n                        </div>\n                        <hr></hr>\n                        <div  className=\"row bootstrap snippets comm\" style={{\"display\":\"none\"}}>\n                        <div className=\"col-md-12 col-md-offset-2 col-sm-12\">\n                            <div className=\"comment-wrapper\">\n                                <div className=\"panel panel-info\">\n                                    <div className=\"panel-heading\">\n                                        Comments\n                                    </div>\n                                    <div className=\"panel-body\">\n                                        <textarea name={snippet._id} className=\"form-control\" placeholder=\"write a comment...\" rows=\"3\" onChange={this.handleInputChange}></textarea>\n                                        <br></br>\n                                        <button type=\"button\" className=\"btn btn-info pull-right\" onClick={()=>this.handleSumbit()}>Post</button>\n                                        <div className=\"clearfix\"></div>\n                                        <hr></hr>\n                                        <ul className=\"media-list\">\n                                            {this.comment_array}\n                                            \n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n    \n                    </div>\n                </div>\n                    </div>\n                    \n                </article>\n            </div>\n            </div>\n            )\n        })\n    }\n    \n    render(){\n        this.getElements()\n        return (\n            <div className=\"container\">\n                \n                 {this.snippet_array}\n                \n            </div>\n        )\n    }\n    \n}\n"]},"metadata":{},"sourceType":"module"}