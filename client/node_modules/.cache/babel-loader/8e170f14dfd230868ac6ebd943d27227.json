{"ast":null,"code":"var _jsxFileName = \"/Users/Alhilly/Desktop/dev-social-app/client/src/components/pages/Snippets.js\";\nimport React from 'react';\nimport { Pre, LineNo } from './styles';\nimport Highlight, { defaultProps } from 'prism-react-renderer';\nimport theme from 'prism-react-renderer/themes/nightOwl';\nimport './style.css';\nimport Moment from 'react-moment';\nimport uniqid from 'uniqid';\nimport TextErea from './TextErea';\nimport API from '../../utils/API';\nvar result = [];\nvar user_obj = JSON.parse(localStorage.getItem('okta-token-storage'));\nvar snippets_liked_by_this_user = [];\n\nfunction getLikes() {}\n\nfunction Snippets(props) {\n  getLikes();\n  var snippet_array = [];\n  var promise1 = new Promise(function (resolve, reject) {\n    API.getLikes().then(function (result) {\n      resolve(result.data);\n    });\n  });\n  promise1.then(function (value) {\n    result = value;\n\n    for (var i = 0; i < result.length; i++) {\n      if (result[i].author_id === user_obj.idToken.clientId) {\n        snippets_liked_by_this_user.push(result[i].snippet_id);\n      }\n    }\n\n    props.snippets.forEach(function (snippet) {\n      var comment_array = [];\n      var likeButton = [];\n\n      if (snippets_liked_by_this_user.includes(snippet._id)) {\n        likeButton.push(React.createElement(\"button\", {\n          key: uniqid(),\n          style: {\n            \"marginRight\": \"5px\"\n          },\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: function onClick() {\n            return props.likeThisSnippet(snippet._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \"Like\"));\n      } else {\n        likeButton.push(React.createElement(\"button\", {\n          key: uniqid(),\n          style: {\n            \"marginRight\": \"5px\"\n          },\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: function onClick() {\n            return props.likeThisSnippet(snippet._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"Like\"));\n      }\n\n      snippet.comments.forEach(function (comm) {\n        comment_array.push(React.createElement(\"li\", {\n          key: uniqid(),\n          className: \"media pull-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"/\",\n          className: \"pull-left\",\n          style: {\n            \"marginRight\": \"15px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: comm.auth_pic,\n          alt: \"\",\n          className: \"img-circle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"media-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          className: \"text-success pull-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, comm.author_name), React.createElement(\"span\", {\n          className: \"text-muted pull-right\",\n          style: {\n            \"float\": \"right\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"small\", {\n          className: \"text-muted\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(Moment, {\n          format: \"D, MMM YYYY, hh:mm a\",\n          withTitle: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, snippet.date))), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, comm.body))));\n      });\n      snippet_array.push(React.createElement(\"div\", {\n        key: uniqid(),\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"article\", {\n        className: \"media content-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"media-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"article-metadata\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: snippet.author.pic,\n        alt: \"alaa\",\n        className: \"rounded-circle post_prof_img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        className: \"mr-2\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, snippet.author.name), React.createElement(\"small\", {\n        className: \"text-muted ml-2\",\n        style: {\n          \"float\": \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        format: \"D, MMM YYYY, hh:mm a\",\n        withTitle: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, snippet.date))), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"article-title\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, snippet.title)), React.createElement(\"p\", {\n        className: \"desc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, snippet.desc), React.createElement(Highlight, Object.assign({}, defaultProps, {\n        theme: theme,\n        code: snippet.content,\n        language: \"jsx\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), function (_ref) {\n        var className = _ref.className,\n            style = _ref.style,\n            tokens = _ref.tokens,\n            getLineProps = _ref.getLineProps,\n            getTokenProps = _ref.getTokenProps;\n        return React.createElement(Pre, {\n          className: className,\n          style: style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, tokens.map(function (line, i) {\n          return React.createElement(\"div\", Object.assign({}, getLineProps({\n            line: line,\n            key: i\n          }), {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }), React.createElement(LineNo, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, i + 1), line.map(function (token, key) {\n            return React.createElement(\"span\", Object.assign({}, getTokenProps({\n              token: token,\n              key: key\n            }), {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 96\n              },\n              __self: this\n            }));\n          }));\n        }));\n      }), React.createElement(\"small\", {\n        className: \"text-muted md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"written with : \", snippet.lang), React.createElement(\"small\", {\n        className: \"text-muted md-3\",\n        style: {\n          \"float\": \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"This snippet helped \", snippet.likes.length, \" developers\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, likeButton, React.createElement(\"button\", {\n        style: {\n          \"marginLeft\": \"5px\"\n        },\n        type: \"button\",\n        className: \"btn btn-secondary sh-comm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Comment\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row bootstrap snippets comm\",\n        style: {\n          \"display\": \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 col-md-offset-2 col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"comment-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel panel-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Comments\"), React.createElement(\"div\", {\n        className: \"panel-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(TextErea, {\n        snippet_id: snippet._id,\n        onClick: props.commentForThisSnippet,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        className: \"media-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, comment_array)))))))))));\n    });\n  });\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, snippet_array);\n}\n\nexport default Snippets;","map":{"version":3,"sources":["/Users/Alhilly/Desktop/dev-social-app/client/src/components/pages/Snippets.js"],"names":["React","Pre","LineNo","Highlight","defaultProps","theme","Moment","uniqid","TextErea","API","result","user_obj","JSON","parse","localStorage","getItem","snippets_liked_by_this_user","getLikes","Snippets","props","snippet_array","promise1","Promise","resolve","reject","then","data","value","i","length","author_id","idToken","clientId","push","snippet_id","snippets","forEach","snippet","comment_array","likeButton","includes","_id","likeThisSnippet","comments","comm","auth_pic","author_name","date","body","author","pic","name","title","desc","content","className","style","tokens","getLineProps","getTokenProps","map","line","key","token","lang","likes","commentForThisSnippet"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,MAAd,QAA4B,UAA5B;AACA,OAAOC,SAAP,IAAoBC,YAApB,QAAwC,sBAAxC;AACA,OAAOC,KAAP,MAAkB,sCAAlB;AACA,OAAO,aAAP;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,IAAIC,MAAM,GAAG,EAAb;AACA,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,oBAArB,CAAX,CAAf;AACA,IAAIC,2BAA2B,GAAC,EAAhC;;AACA,SAASC,QAAT,GAAmB,CAElB;;AAGD,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrBF,EAAAA,QAAQ;AACR,MAAIG,aAAa,GAAG,EAApB;AAEA,MAAIC,QAAQ,GAAG,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAEjDf,IAAAA,GAAG,CAACQ,QAAJ,GACCQ,IADD,CACM,UAAAf,MAAM,EAAE;AACVa,MAAAA,OAAO,CAACb,MAAM,CAACgB,IAAR,CAAP;AACP,KAHG;AAKL,GAPgB,CAAf;AASFL,EAAAA,QAAQ,CAACI,IAAT,CAAc,UAASE,KAAT,EAAgB;AAC5BjB,IAAAA,MAAM,GAAGiB,KAAT;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAClB,MAAM,CAACmB,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAC5B,UAAGlB,MAAM,CAACkB,CAAD,CAAN,CAAUE,SAAV,KAAwBnB,QAAQ,CAACoB,OAAT,CAAiBC,QAA5C,EAAqD;AACjDhB,QAAAA,2BAA2B,CAACiB,IAA5B,CAAiCvB,MAAM,CAACkB,CAAD,CAAN,CAAUM,UAA3C;AACH;AACJ;;AACDf,IAAAA,KAAK,CAACgB,QAAN,CAAeC,OAAf,CAAuB,UAAAC,OAAO,EAAE;AAChC,UAAIC,aAAa,GAAG,EAApB;AACA,UAAIC,UAAU,GAAC,EAAf;;AACA,UAAGvB,2BAA2B,CAACwB,QAA5B,CAAqCH,OAAO,CAACI,GAA7C,CAAH,EAAqD;AACjDF,QAAAA,UAAU,CAACN,IAAX,CAAgB;AAAQ,UAAA,GAAG,EAAE1B,MAAM,EAAnB;AAAuB,UAAA,KAAK,EAAE;AAAC,2BAAc;AAAf,WAA9B;AAAsD,UAAA,IAAI,EAAC,QAA3D;AAAoE,UAAA,SAAS,EAAC,iBAA9E;AAAgG,UAAA,OAAO,EAAE;AAAA,mBAAIY,KAAK,CAACuB,eAAN,CAAsBL,OAAO,CAACI,GAA9B,CAAJ;AAAA,WAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAhB;AAEH,OAHD,MAGK;AACDF,QAAAA,UAAU,CAACN,IAAX,CAAgB;AAAQ,UAAA,GAAG,EAAE1B,MAAM,EAAnB;AAAuB,UAAA,KAAK,EAAE;AAAC,2BAAc;AAAf,WAA9B;AAAsD,UAAA,IAAI,EAAC,QAA3D;AAAoE,UAAA,SAAS,EAAC,mBAA9E;AAAkG,UAAA,OAAO,EAAE;AAAA,mBAAIY,KAAK,CAACuB,eAAN,CAAsBL,OAAO,CAACI,GAA9B,CAAJ;AAAA,WAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAhB;AACH;;AAEDJ,MAAAA,OAAO,CAACM,QAAR,CAAiBP,OAAjB,CAAyB,UAAAQ,IAAI,EAAG;AAC5BN,QAAAA,aAAa,CAACL,IAAd,CAEI;AAAI,UAAA,GAAG,EAAE1B,MAAM,EAAf;AAAmB,UAAA,SAAS,EAAC,iBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAG,UAAA,IAAI,EAAC,GAAR;AAAY,UAAA,SAAS,EAAC,WAAtB;AAAkC,UAAA,KAAK,EAAE;AAAC,2BAAc;AAAf,WAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,GAAG,EAAEqC,IAAI,CAACC,QAAf;AAAyB,UAAA,GAAG,EAAC,EAA7B;AAAgC,UAAA,SAAS,EAAC,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADA,EAIA;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAQ,UAAA,SAAS,EAAC,wBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA4CD,IAAI,CAACE,WAAjD,CADA,EAGI;AAAM,UAAA,SAAS,EAAC,uBAAhB;AAAwC,UAAA,KAAK,EAAE;AAAC,qBAAQ;AAAT,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA,oBAAC,MAAD;AAAQ,UAAA,MAAM,EAAC,sBAAf;AAAsC,UAAA,SAAS,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACST,OAAO,CAACU,IADjB,CADA,CADJ,CAHJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKH,IAAI,CAACI,IADV,CAVJ,CAJA,CAFJ;AAsBH,OAvBD;AAwBA5B,MAAAA,aAAa,CAACa,IAAd,CACA;AAAK,QAAA,GAAG,EAAE1B,MAAM,EAAhB;AAAoB,QAAA,SAAS,EAAC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAS,QAAA,SAAS,EAAC,uBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,GAAG,EAAE8B,OAAO,CAACY,MAAR,CAAeC,GAAzB;AAA8B,QAAA,GAAG,EAAE,MAAnC;AAA2C,QAAA,SAAS,EAAC,8BAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAG,QAAA,SAAS,EAAC,MAAb;AAAoB,QAAA,IAAI,EAAC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8Bb,OAAO,CAACY,MAAR,CAAeE,IAA7C,CAFJ,EAGI;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAmC,QAAA,KAAK,EAAE;AAAC,mBAAQ;AAAT,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AAAQ,QAAA,MAAM,EAAC,sBAAf;AAAsC,QAAA,SAAS,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACSd,OAAO,CAACU,IADjB,CADA,CAHJ,CADJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAG,QAAA,SAAS,EAAC,eAAb;AAA6B,QAAA,IAAI,EAAC,GAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuCV,OAAO,CAACe,KAA/C,CAAJ,CAVJ,EAWI;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKf,OAAO,CAACgB,IADb,CAXJ,EAcI,oBAAC,SAAD,oBAAejD,YAAf;AAA6B,QAAA,KAAK,EAAEC,KAApC;AAA2C,QAAA,IAAI,EAAEgC,OAAO,CAACiB,OAAzD;AAAkE,QAAA,QAAQ,EAAC,KAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACK;AAAA,YAAGC,SAAH,QAAGA,SAAH;AAAA,YAAcC,KAAd,QAAcA,KAAd;AAAA,YAAqBC,MAArB,QAAqBA,MAArB;AAAA,YAA6BC,YAA7B,QAA6BA,YAA7B;AAAA,YAA2CC,aAA3C,QAA2CA,aAA3C;AAAA,eACG,oBAAC,GAAD;AAAK,UAAA,SAAS,EAAEJ,SAAhB;AAA2B,UAAA,KAAK,EAAEC,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKC,MAAM,CAACG,GAAP,CAAW,UAACC,IAAD,EAAOjC,CAAP;AAAA,iBACR,6CAAS8B,YAAY,CAAC;AAAEG,YAAAA,IAAI,EAAJA,IAAF;AAAQC,YAAAA,GAAG,EAAElC;AAAb,WAAD,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAASA,CAAC,GAAG,CAAb,CADJ,EAEKiC,IAAI,CAACD,GAAL,CAAS,UAACG,KAAD,EAAQD,GAAR;AAAA,mBAAgB,8CAAUH,aAAa,CAAC;AAAEI,cAAAA,KAAK,EAALA,KAAF;AAASD,cAAAA,GAAG,EAAHA;AAAT,aAAD,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAhB;AAAA,WAAT,CAFL,CADQ;AAAA,SAAX,CADL,CADH;AAAA,OADL,CAdJ,EA0BI;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAmDzB,OAAO,CAAC2B,IAA3D,CA1BJ,EA2BI;AAAO,QAAA,SAAS,EAAC,iBAAjB;AAAmC,QAAA,KAAK,EAAE;AAAC,mBAAQ;AAAT,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAkF3B,OAAO,CAAC4B,KAAR,CAAcpC,MAAhG,gBA3BJ,EA4BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BJ,EA6BI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQU,UAFR,EAII;AAAQ,QAAA,KAAK,EAAE;AAAC,wBAAa;AAAd,SAAf;AAAsC,QAAA,IAAI,EAAC,QAA3C;AAAoD,QAAA,SAAS,EAAC,2BAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJJ,CA7BJ,EAmCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnCJ,EAoCI;AAAM,QAAA,SAAS,EAAC,6BAAhB;AAA8C,QAAA,KAAK,EAAE;AAAC,qBAAU;AAAX,SAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAII;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,QAAD;AAAU,QAAA,UAAU,EAAEF,OAAO,CAACI,GAA9B;AAAmC,QAAA,OAAO,EAAEtB,KAAK,CAAC+C,qBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEQ;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFR,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK5B,aADL,CAJJ,CAJJ,CADJ,CADJ,CADA,CApCJ,CADJ,CADJ,CADA,CADA;AAoEC,KAtGD;AAuGD,GA9GD;AA+GE,SACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEMlB,aAFN,CADJ;AAOH;;AACD,eAAeF,QAAf","sourcesContent":["import React from 'react'\nimport { Pre, LineNo } from './styles'\nimport Highlight, { defaultProps } from 'prism-react-renderer'\nimport theme from 'prism-react-renderer/themes/nightOwl'\nimport './style.css'\nimport Moment from 'react-moment';\nimport uniqid from 'uniqid'\nimport TextErea from './TextErea'\nimport API from '../../utils/API';\nlet result = []\nlet user_obj = JSON.parse(localStorage.getItem('okta-token-storage'))\nlet snippets_liked_by_this_user=[]\nfunction getLikes(){\n    \n}\n\n  \nfunction Snippets(props) {\n    getLikes()\n    let snippet_array = []\n\n    var promise1 = new Promise(function(resolve, reject) {\n\n        API.getLikes()\n        .then(result=>{\n            resolve(result.data);\n    })\n      \n  });\n  \n  promise1.then(function(value) {\n    result = value\n    for(let i=0;i<result.length;i++){\n        if(result[i].author_id === user_obj.idToken.clientId){\n            snippets_liked_by_this_user.push(result[i].snippet_id)\n        }\n    }\n    props.snippets.forEach(snippet=>{\n    let comment_array = []\n    let likeButton=[]\n    if(snippets_liked_by_this_user.includes(snippet._id)){\n        likeButton.push(<button key={uniqid()} style={{\"marginRight\":\"5px\"}}  type=\"button\" className=\"btn btn-primary\" onClick={()=>props.likeThisSnippet(snippet._id)}>Like</button>)\n\n    }else{\n        likeButton.push(<button key={uniqid()} style={{\"marginRight\":\"5px\"}}  type=\"button\" className=\"btn btn-secondary\" onClick={()=>props.likeThisSnippet(snippet._id)}>Like</button>)\n    }\n    \n    snippet.comments.forEach(comm =>{\n        comment_array.push(\n            \n            <li key={uniqid()} className=\"media pull-left\">\n            <a href=\"/\" className=\"pull-left\" style={{\"marginRight\":\"15px\"}}>\n                <img src={comm.auth_pic} alt=\"\" className=\"img-circle\"/>\n            </a>\n            <div className=\"media-body\">\n            <strong className=\"text-success pull-left\">{comm.author_name}</strong>\n\n                <span className=\"text-muted pull-right\" style={{\"float\":\"right\"}}>\n                    <small className=\"text-muted\">\n                    <Moment format=\"D, MMM YYYY, hh:mm a\" withTitle>\n                            {snippet.date}\n                    </Moment>\n                    </small>\n                </span>\n                <p>\n                    {comm.body}\n                </p>\n            </div>\n        </li>\n        )\n    })\n    snippet_array.push(\n    <div key={uniqid()} className=\"row\">\n    <div className=\"col-md-8\">\n        <article className=\"media content-section\">\n            <div className=\"media-body\">\n                <div className=\"article-metadata\">\n                    <img src={snippet.author.pic} alt={\"alaa\"} className=\"rounded-circle post_prof_img\" />\n                    <a className=\"mr-2\" href=\"/\">{snippet.author.name}</a>\n                    <small className=\"text-muted ml-2\" style={{\"float\":\"right\"}}>\n                    <Moment format=\"D, MMM YYYY, hh:mm a\" withTitle>\n                            {snippet.date}\n                    </Moment>\n                    </small>\n                </div>\n                <h2><a className=\"article-title\" href=\"/\">{snippet.title}</a></h2>\n                <p className=\"desc\">\n                    {snippet.desc}\n                </p>\n                <Highlight {...defaultProps} theme={theme} code={snippet.content} language=\"jsx\">\n                    {({ className, style, tokens, getLineProps, getTokenProps }) => (\n                        <Pre className={className} style={style}>\n                            {tokens.map((line, i) => (\n                                <div {...getLineProps({ line, key: i })}>\n                                    <LineNo>{i + 1}</LineNo>\n                                    {line.map((token, key) => <span {...getTokenProps({ token, key })} />)}\n                                </div>\n                            ))}\n                        </Pre>\n                    )}\n                </Highlight>\n                <small className=\"text-muted md-3\">written with : {snippet.lang}</small>\n                <small className=\"text-muted md-3\" style={{\"float\":\"right\"}}>This snippet helped {snippet.likes.length} developers</small>\n                <hr></hr>\n                <div className=\"text-center\">\n                    {\n                        likeButton\n                    }\n                    <button style={{\"marginLeft\":\"5px\"}}  type=\"button\" className=\"btn btn-secondary sh-comm\">Comment</button>\n                </div>\n                <hr></hr>\n                <div  className=\"row bootstrap snippets comm\" style={{\"display\":\"none\"}}>\n                <div className=\"col-md-12 col-md-offset-2 col-sm-12\">\n                    <div className=\"comment-wrapper\">\n                        <div className=\"panel panel-info\">\n                            <div className=\"panel-heading\">\n                                Comments\n                            </div>\n                            <div className=\"panel-body\">\n                                <TextErea snippet_id={snippet._id} onClick={props.commentForThisSnippet}/>\n                                    <div className=\"clearfix\"></div>\n                                <hr></hr>\n                                <ul className=\"media-list\">\n                                    {comment_array}\n                                    \n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n\n            </div>\n        </div>\n            </div>\n            \n        </article>\n    </div>\n    </div>\n    )\n        \n    })\n  });\n    return (\n        <div className=\"container\">\n            \n             {snippet_array}\n            \n        </div>\n    )\n}\nexport default Snippets"]},"metadata":{},"sourceType":"module"}